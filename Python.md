# Python

## 注释

注释是对程序的解释,方便自己以及其他人知道这段程序或变量是干什么的,减少阅读代码的压力.

- 单行注释: #加空格后跟注释内容  
`# 注释内容`

-  多行注释: 用上下各三个 " 包围注释内容
```
"""
注释内容
注释内容
"""
```

## 基础

### 数据类型

| 类型 | 描述 |
| --- | --- |
|数字(Dumber)|支持int(整数),float(浮点数/小数),complex(复数),bool(布尔)|
| 字符串(String) | 字符序列,一般用""包围的内容为字符串 |
| 列表(List) | 有序的可变序列 |
| 元组(Tuple) | 有序的不可变序列 |
| 集合(Set) | 无序不重复集合 |
| 字典(Dictionary) | 无序的键值对集合 |

### 字面量与变量

- 字面量: 一个固定的值,如: 2, 2.5, "abc".
- 变量的定义以及赋值:  
`<变量名> = <变量值>`
- 查看变量或字面量的数据类型:  
`type(变量名或字面量)`

### 数据类型转换
```
int(x)    # 将x转换为一个整数
float(X)  # 将X转换为一个浮点数
str(x)    # 将X转换为一个字符串
# 并不是所有的字符串都可以转换为数字,如:
int("abc")  # 程序将报错
# 浮点数转小数时,会舍弃小数部分
float(1.86) #并不是四舍五入
```

### 标识符

标识符指程序中**变量,方法,类**的名字等,这些统称为标识符.  

规则:  
- 内容限定:  
只允许出现 **英文,中文(不推荐使用),数字(不可以在开头),下划线(_)** 这四类元素.
- 大小写敏感
- 不可使用关键字  
在程序中一些有特定作用的单词,称为关键字,不能用为标识符.

规范:
命名时需要遵守一点规范,使名字简洁,见名知意

### 运算符

| 加 | 减 | 乘 | 除 | 取整除 | 取余 | 指数 |
| - | - | - | - | - | - | - |
| + | - | * | / | // | % | ** |

| 运算符 | 描述 |
| --- | --- |
| += | 加法赋值运算符 |
| -= | 减法赋值运算符 |
| *= | 乘法赋值运算符 |
| /= | 除法赋值运算符 |
| %= | 取模赋值运算符 |
| **= | 幂赋值运算符 |
| //= | 取整除赋值运算符 |

a += b 等效于 a = a + b, 其余同理.  

### 字符串拼接

- 可以通过加号"+"拼接两个字符串(变量).  
- 可以通过将其他数据类型转换成字符串并拼接.

### 字符串格式化

```
name = "cba"
message = "my name is %s" % name
// % 为占位符, s 表示将变量变成字符串放入占位的地方
```
```
print("my mane is %s, I'm %s years old" % (name, age))
//多个变量用(),并按顺序放置
```

| 格式符号 | 转化 |
| --- | --- |
| %s | 将内容转换成字符串,放入占位位置 |
| %d | 将内容转换成整数,放入占位位置 | 
| %f | 将内容转换成浮点型,放入占位位置 | 

格式化的精度控制: `%m.nf`(浮点数), `%md`(整数)  
- m,n 为整数  
- m表示数字的宽度, 不足则在前面补充空格, 宽度超出m则按实践宽度输出
- n表示小数数位限制, 超出部分四舍五入, 浮点数默认六位小数位  

`示例: %3.2f, %.1f, %5d`

### 字符串格式化-快速写法

在字符串前加"f"来标识，然后以{变量}的形式来快速格式化。  
示例：  
```
name = "abc"
age = 18
print(f"My name is {name}, I'm {age} years old")
```

- 以上两种格式化同样支持表达式。

### 输入与输出

#### 输入
`<变量> = input()`  
输入的数据为字符串，如果想要其他类型请使用数据类型转换：  
`a = int(input())`  

input(), 括号内可以添加字符串，它会在你输入前先输出里面的内容。  
`name = input("请输入你的名字：")`

#### 输出  

`print(内容)`
输出完后自动换行, 如果不想换行则用重载传参 end=' '  
`print(内容, end=' ')  

### 判断语句

#### 布尔(bool)类型数据

表达 真(True)与 假(False)的逻辑判断，bool也只有这两种取值，True可以记为 1，False 可以记为 0。  

#### 比较运算符

| 运算符 | 描述 |
| --- | --- |
| == | 判断内容是否相等 |
| != | 判断内容是否不相等 |
| > | 大于判断 |
| < | 小于判断 |
| >= | 大于等于判断 |
| <= | 小于等于判断 |

```
bool_1 = True
bool_2 = False
print(f"bool_1: {bool_1}, 数据类型为 {type(bool_1)}")
print(f"bool_2: {bool_2}, 数据类型为 {type(bool_2)}")

print(f"1 == 2 的结果是: {1 == 2}")
print(f"1 != 2 的结果是: {1 != 2}")
```

#### 判断语句基本格式

```
if <判断条件>:  
    <条件成立时执行的语句>  
else:  
    <不成立执行的语句>  

---------------示例-----------------

age = int(input("请输入你的年龄:\n"))

# 注意语句缩进, python以此来判断代码块的归属关系.
if age >= 18:
    print("你已经成年了")
    print("该学会自己敲代码了")
else:
    print("你还未成年")
    print("需要进行未成年游戏时长限制")
```

elif(else if):

```
age = int(input())

if age > 10:
    print("10岁以下")
elif age > 20:
    print("10~20岁")
elif age > 30:
    print("20~30岁")
else:
    print("30岁及以上")
```

- 判断语句可嵌套, 即执行的语句内也可以在加入判断语句.

### 循环
#### while循环

- 基础语法
```
while 循环条件 :
    循环体,一条或多条语句

---------示例---------

i = 1
while i < 10 :
    print(f"第{i}次输出")
    i += 1
print("输出完毕")
```
- 注意别设置成死循环
- while循环可嵌套

#### for循环

python中的for循环更像是Java, c++中的 for each, 对一个集合(序列)中的元素逐个遍历.

- 语法:
```
for 临时变量 in 待处理数据集 :
    循环体

---------------示例----------------

str1 = "collection"
for c in str1 :
    print(c + ' ', end = ' ')
```

- range
```
range(num) #获取0到num的数字序列, 不包含num
range(num1, num2)  #获取num1到num2的数字序列, 不包含num2
range(num1, num2, step)  #获取num1到num2, 步长为step的数字序列, 不包含num2

----------示例----------

for i in range(0, 20, 3):
    print(i)
```

- for循环可嵌套
- for与while可相互嵌套

#### continue与break

- continue : 执行时结束本次循环, 直接进入下一次循环
- break : 执行后跳出循环,剩下的循环也不再执行

```
for i in range(10):
    if i%2 == 0 :
        continue
    for j in range(10):
        if i == j :
            break
        print(str(j) + " ", end=' ')
    print()
```

### 函数

函数: 可重复调用, 用以实现某种特定功能的代码块。

- 函数的定义：  
```
def 函数名([传入参数]):
    函数体
    [return 返回值]
```
- 调用：`函数名([传入参数])`

```
# 参数与c++和Java语法不同，不需要声明参数类型
def add(x, y)
    """
    有两个参数，计算两数之和，进行输出，并返回和。
    在写函数时记得写说明文档
    """
    res = x + y
    print(f"{x} + {y} = {res}")
    return res

# 调用
result = add(1, 1)
print(result)

当函数无返回值时会返回 None，类似于Null，表示空或返回值无意义。 
```

- 函数可嵌套调用。
- 在函数内定义的变量为局部变量，作用域只有其函数内部。加上关键字 global 可使局部变量声明为全局变量。

### 数据容器

可以容纳多份数据的容器。

| 容器 | 有序存储(下标) | 元素可以重复 | 元素可以修改 |
| --- | --- | --- | --- |
| 列表(list) | o | o | o |
| 元组(tuple) | o | o | x |
| 字符串(str) | o | o | x |
| 集合(set) | x | x | o |
| 字典(dict) | x | x | o |

- max(容器), 获取容器中最大元素
- min(容器), 获取容器中最小元素
- list(容器), str(容器), tuple(容器), set(容器) 转换成对应容器,字典只保留Key(除了转为字符串).
- sorted(容器, [reverse=Ture]), 对容器进行排序返回列表, 后一个参数表示降序.

#### 列表(list)

##### 定义  
1. 变量(列表)名称 = [元素1, 元素2, 元素3, 元素4, ...]
2. 空列表：变量名 = [] 或 变量名 = list()
- 列表的元素的数据类型可以不同。
- 支持嵌套。

##### 下标索引
- 列表可以通过下标访问数据，每个元素的下标按顺序从0开始依次递加。
- 负数下标(反向索引)：指从后往前，最后的元素索引为 -1，向前递减。

```
Mylist = [[1,2,3,4,5],[6,7,8,9,10],[11,12,13,14,15]]
print(Mylist[0][3])     # 4
print[Mylist[-1][0])    # 11
# 访问"不存在的数据"时会报错。
```

##### 常用方法

| 方法 | 作用 |
| --- | --- |
| index(元素) | 获取第一个对应元素的下标，如果不存在则会报错 |
| *列表名[下标] = 值 | 对指定下标位置的元素进行重新赋值 |
| insert(下标, 元素) | 在指定下标位置插入元素 |
| extend(容器) | 将其他容器中的元素添加至列表尾部 |
| *del 列表名[下标] | 删除指定下标的元素 |
| pop(下标) | 删除指定下标的元素, 返回删除的元素 |
| remove(元素) | 删除第一个对应元素 |
| clear() | 清空列表 |
| count(元素) | 添加指定元素的数量 |
| *len(列表名) | 获取列表的元素数量(长度) |

- 使用: `列表名.方法(参数)`

##### list的遍历

- while循环  
```
index = 0
while index < len(列表):
    ...
    index += 1
```

- for循环  
```
for element in 列表:
    ...
```

#### 元组

元组定义之后，不允许修改。

##### 定义

1. 变量名 = (元素1, 元素2, 元素3, ...)  
2. 空元组: 变量名 = () 或 变量名 = tuple()
- 如果只有单个元素则也要加",": `t = (23,)`
- 可嵌套, 支持索引

##### 方法

1. index(元素)
2. count(元素)
3. len(元组)

##### 遍历

1. while
2. for

与list基本一致

#### 字符串

字符串是存放字符的容器, 可存放任意长度的任意字符

- 支持索引, 无法修改

##### 方法

| 方法 | 说明 |
| --- | --- |
| index(字符串) | 查找指定字符串的下标 | 
| replace(字符串1, 字符串2) | 将字符串中所有的字符串1替换成字符串2,得到新字符串 |
| split(分隔符字符串) | 按指定的分隔符字符串将其分割, 返回一个列表 |
| strip([字符串]) | 去除字符串前后的指定字符串, 不填参数即去除空格 |
| count(字符串) | 统计指定字符串的数量 |
| len() | ... |

#### 有序容器的切片

`序列[起始下标:结束下标:步长]`  
- 从序列的起始位置按步长取出元素,到结束位置  
- 三个参数都可以省略, ":"不能省。
- 步长可为负数, 表示反向取, 此时起始于结束下标也要反向标记。

#### 集合

##### 定义

1. 变量名 = {...}
2. 空集合: 变量名 = set() ({}的方式被字典占用了)
- 无序(不支持索引), 允许修改元素, 不允许元素重复.

##### 方法

| 方法 | 注释 |
| --- | --- |
| add(elem) | 添加元素 |
| remove(elem) | 删除指定元素 |
| pop() | 随机删除并返回元素 |
| clear() | ... |
| difference(集合2) | set3 = set1 - set2, 原集合不变 |
| difference_update(集合2) | 取差集, 更新原集合 |
| union(set2) | 返回合并的集合,原集合不变 |
| len() | ... |

##### 遍历

只支持 for 遍历.

#### 字典 

字典存储的元素为键值对, 无序.
- 键值对: `key : value`, 键(key)不可重复, key 可以为字典之外的其他数据类型, 值(value)无限制.

##### 定义

1. 变量名 = {key: value, key: value, ...}  
2. 空字典: 变量名 = {} 或 变量名 = dict()

- 取值: `字典名[key]`, 用key代替索引取值.
- `字典名[key] = value`, 如果key已存在则更新value, 否则新增键值对.

##### 方法

| 方法 | 作用 |
| --- | --- |
| pop(key) | 根据key删除元素并返回 |
| clear() | 清空 |
| keys() | 获取key序列 |
| len() | ... |

##### 遍历

1. 通过Keys() 获取key序列, 再通过for循环用key获取value.
2. for循环遍历字典得到key, 取出键值对中的value. 


### 函数拓展

#### 多返回值

在return时将多个返回值用 "," 隔开, 即可返回多个返回值. 在接收时也需要多个变量接收, 也用 "," 隔开.

#### 多种参数

1. 位置参数: 调用函数时根据函数定义的参数位置来传递参数.
2. 关键字参数: 函数调用时通过 "键=值" 的形式传递参数, 这样可以不用按写定的顺序传参.  
`user_info(name='甲', age=19, gender='男')`
- 位置参数与关键字参数可混用, 传入时位置参数需要在关键字之前.
3. 缺省参数(默认参数): 在定义函数时设置默认值, 不传入此参数即用默认值, 定义时有默认值的参数需要写在没有默认值参数的后面.
4. 不定长参数: 在定义函数时在参数前加上 "*" ,表示可接收任意数量的参数, 函数接收后形成元组, 如果加上 "**" ,传入参数应为"key=value"的形式, 函数接收后形成字典.

#### 函数作为参数

函数作参数一般用作对复杂数据类型(类与结构体)的比较规则的定义等, 使调用时自定义比较规则.(个人经验)

- lambda匿名函数  

作为参数的函数一般不会过于复杂,也不会多次调用, 为了简化书写使用匿名函数, 而不用def定义.

- 定义: lambda 传入参数: 函数体(一行代码)  
默认返回函数体的计算结果.

### 文件读写